<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap
        PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
        "http://www.ibatis.com/dtd/sql-map-2.dtd">
<sqlMap namespace="com.cn.tbps">

	<resultMap id="AuditHistDto" class="com.cn.tbps.dto.AuditHistDto">
		<result property="AUDIT_HIS_SEQ" column="AUDIT_HIS_SEQ" />
		<result property="AUDIT_NO" column="AUDIT_NO" />
		<result property="CNTRCT_NO" column="CNTRCT_NO" />
		<result property="CNTRCT_NM" column="CNTRCT_NM" />
		<result property="REPORT_NO" column="REPORT_NO" />
		<result property="PROJECT_MANAGER" column="PROJECT_MANAGER" />
		<result property="PROJECT_NAME" column="PROJECT_NAME" />
		<result property="PROJECT_TYPE" column="PROJECT_TYPE" />
		<result property="PROJECT_STATUS" column="PROJECT_STATUS" />
		<result property="AGENT_NO" column="AGENT_NO" />
		<result property="AGENT_CO_NAME" column="AGENT_CO_NAME" />
		<result property="AGENT_CO_MANAGER" column="AGENT_CO_MANAGER" />
		<result property="AGENT_CO_MANAGER_TEL" column="AGENT_CO_MANAGER_TEL" />
		<result property="AGENT_CO_STAFF" column="AGENT_CO_STAFF" />
		<result property="AGENT_CO_STAFF_TEL" column="AGENT_CO_STAFF_TEL" />
		<result property="AGENT_CO_POST_ADDRESS" column="AGENT_CO_POST_ADDRESS" />
		<result property="AGENT_CO_MAIL" column="AGENT_CO_MAIL" />
		<result property="PROF_NO" column="PROF_NO" />
		<result property="PROF_CO_NAME" column="PROF_CO_NAME" />
		<result property="PROF_CO_MANAGER" column="PROF_CO_MANAGER" />
		<result property="PROF_CO_MANAGER_TEL" column="PROF_CO_MANAGER_TEL" />
		<result property="PROF_CO_STAFF" column="PROF_CO_STAFF" />
		<result property="PROF_CO_STAFF_TEL" column="PROF_CO_STAFF_TEL" />
		<result property="PROF_CO_POST_ADDRESS" column="PROF_CO_POST_ADDRESS" />
		<result property="PROF_CO_MAIL" column="PROF_CO_MAIL" />
		<result property="CONTRACT_CO_NO" column="CONTRACT_CO_NO" />
		<result property="CONTRACT_CO_NAME" column="CONTRACT_CO_NAME" />
		<result property="CONTRACT_CO_MANAGER" column="CONTRACT_CO_MANAGER" />
		<result property="CONTRACT_CO_MANAGER_TEL" column="CONTRACT_CO_MANAGER_TEL" />
		<result property="CONTRACT_CO_STAFF" column="CONTRACT_CO_STAFF" />
		<result property="CONTRACT_CO_STAFF_TEL" column="CONTRACT_CO_STAFF_TEL" />
		<result property="CONTRACT_CO_POST_ADDRESS" column="CONTRACT_CO_POST_ADDRESS" />
		<result property="CONTRACT_CO_MAIL" column="CONTRACT_CO_MAIL" />
		<result property="DOC_REC_DATE" column="DOC_REC_DATE" />
		<result property="PROGRESS_STATUS" column="PROGRESS_STATUS" />
		<result property="PRE_SET" column="PRE_SET" />
		<result property="PRE_PRICE" column="PRE_PRICE" />
		<result property="SUPPORT_DOC_DATE" column="SUPPORT_DOC_DATE" />
		<result property="DRAFT_DATE" column="DRAFT_DATE" />
		<result property="APPROVAL_SND_DATE" column="APPROVAL_SND_DATE" />
		<result property="APPROVAL_RCV_DATE" column="APPROVAL_RCV_DATE" />
		<result property="DELI_NO" column="DELI_NO" />
		<result property="REPORT_RAISE_DATE" column="REPORT_RAISE_DATE" />
		<result property="REPORT_SEAL_DATE" column="REPORT_SEAL_DATE" />
		<result property="REPORT_ARR_TYPE" column="REPORT_ARR_TYPE" />
		<result property="REPORT_ARR_DATE" column="REPORT_ARR_DATE" />
		<result property="REG_DATE" column="REG_DATE" />
		<result property="AGENT_INFO" column="AGENT_INFO" />
		<result property="CONTRACT_CO_ID" column="CONTRACT_CO_ID" />
		<result property="CONTRACT_CO_INFO" column="CONTRACT_CO_INFO" />
		<result property="VERIFY_PER_AMOUNT" column="VERIFY_PER_AMOUNT" />
		<result property="VERIFY_AMOUNT" column="VERIFY_AMOUNT" />
		<result property="VERIFY_INCREASE" column="VERIFY_INCREASE" />
		<result property="VERIFY_DECREASE" column="VERIFY_DECREASE" />
		<result property="VERIFY_DIFF" column="VERIFY_DIFF" />
		<result property="VERIFY_DIFF_RATE" column="VERIFY_DIFF_RATE" />
		<result property="CNT_PRICE" column="CNT_PRICE" />
		<result property="PROJ_PRICE" column="PROJ_PRICE" />
		<result property="LIMIT_PRICE" column="LIMIT_PRICE" />
		<result property="CNTRCT_PRICE" column="CNTRCT_PRICE" />
		<result property="PLAN_DOC_RCV_DATE" column="PLAN_DOC_RCV_DATE" />
		<result property="PLAN_DOC_RPT_DATE" column="PLAN_DOC_RPT_DATE" />
		<result property="PLAN_DOC_SND_TYPE" column="PLAN_DOC_SND_TYPE" />
		<result property="PLAN_DOC_ARR_DATE" column="PLAN_DOC_ARR_DATE" />
		<result property="BID_DOC_RCV_DATE" column="BID_DOC_RCV_DATE" />
		<result property="BID_DOC_RPT_DATE" column="BID_DOC_RPT_DATE" />
		<result property="BID_DOC_SND_TYPE" column="BID_DOC_SND_TYPE" />
		<result property="BID_DOC_ARR_DATE" column="BID_DOC_ARR_DATE" />
		<result property="SIGN_DOC_RCV_DATE" column="SIGN_DOC_RCV_DATE" />
		<result property="SIGN_DOC_RPT_DATE" column="SIGN_DOC_RPT_DATE" />
		<result property="SIGN_DOC_SND_TYPE" column="SIGN_DOC_SND_TYPE" />
		<result property="SIGN_DOC_ARR_DATE" column="SIGN_DOC_ARR_DATE" />
		<result property="SET_DOC_RCV_DATE" column="SET_DOC_RCV_DATE" />
		<result property="SET_DOC_RPT_DATE" column="SET_DOC_RPT_DATE" />
		<result property="SET_DOC_SND_TYPE" column="SET_DOC_SND_TYPE" />
		<result property="SET_DOC_ARR_DATE" column="SET_DOC_ARR_DATE" />
		<result property="PROGRESS_STATUS_MEMO" column="PROGRESS_STATUS_MEMO" />
		<result property="A_AMOUNT" column="A_AMOUNT" />
		<result property="A_STATUS" column="A_STATUS" />
		<result property="B_TYPE" column="B_TYPE" />
		<result property="B_AMOUNT" column="B_AMOUNT" />
		<result property="A_INVOICE_DELI_DATE" column="A_INVOICE_DELI_DATE" />
		<result property="A_INVOICE_DATE" column="A_INVOICE_DATE" />
		<result property="A_INVOICE_NO" column="A_INVOICE_NO" />
		<result property="A_SET_DATE" column="A_SET_DATE" />
		<result property="B_INVOICE_DELI_DATE" column="B_INVOICE_DELI_DATE" />
		<result property="B_INVOICE_DATE" column="B_INVOICE_DATE" />
		<result property="B_INVOICE_NO" column="B_INVOICE_NO" />
		<result property="B_SET_DATE" column="B_SET_DATE" />
		<result property="B_RATE" column="B_RATE" />
		<result property="CNTRCT_INFO" column="CNTRCT_INFO" />
		<result property="PROJECT_NAME_PASS" column="PROJECT_NAME_PASS" />
		<result property="RESERVE1" column="RESERVE1" />
		<result property="RESERVE2" column="RESERVE2" />
		<result property="RESERVE3" column="RESERVE3" />
		<result property="RESERVE4" column="RESERVE4" />
		<result property="RESERVE5" column="RESERVE5" />
		<result property="RESERVE6" column="RESERVE6" />
		<result property="RESERVE7" column="RESERVE7" />
		<result property="RESERVE8" column="RESERVE8" />
		<result property="RESERVE9" column="RESERVE9" />
		<result property="RESERVE10" column="RESERVE10" />
		<result property="LATEST_FLG" column="LATEST_FLG" />
		<result property="DELETE_FLG" column="DELETE_FLG" />
		<result property="UPDATE_USER" column="UPDATE_USER" />
		<result property="INSERT_DATE" column="INSERT_DATE" />
		<result property="UPDATE_DATE" column="UPDATE_DATE" />
	</resultMap>
	
	<select id="queryAuditHistCountByPage" resultClass="int" parameterClass="java.util.Map">
		select count(*) from audit_hist T where 1 = 1
			and T.AUDIT_NO = #AUDIT_NO#
	</select>
	
	<select id="queryAuditHistByPage" parameterClass="java.util.Map" resultMap="AuditHistDto">
		select * from audit_hist T where 1 = 1
			and T.AUDIT_NO = #AUDIT_NO#
			order by T.UPDATE_DATE desc
			LIMIT #start#, #end#
	</select>
	
	<select id="queryAllAuditHistExport" parameterClass="java.util.Map" resultMap="AuditHistDto">
		select * from audit_hist T where 1 = 1
			and T.AUDIT_NO = #AUDIT_NO#
			order by T.UPDATE_DATE desc
	</select>
	
	<select id="queryAuditHistByID" parameterClass="java.util.Map" resultMap="AuditHistDto">
		select * from audit_hist where 
			AUDIT_HIS_SEQ = #AUDIT_HIS_SEQ#
	</select>
	
	<insert id="insertAuditHist" parameterClass="com.cn.tbps.dto.AuditHistDto">
		insert into audit_hist(AUDIT_NO,CNTRCT_NO,CNTRCT_NM,REPORT_NO,PROJECT_MANAGER,PROJECT_NAME,PROJECT_TYPE,PROJECT_STATUS,AGENT_NO,AGENT_CO_NAME,AGENT_CO_MANAGER,
			AGENT_CO_MANAGER_TEL,AGENT_CO_STAFF,AGENT_CO_STAFF_TEL,AGENT_CO_POST_ADDRESS,AGENT_CO_MAIL,PROF_NO,PROF_CO_NAME,PROF_CO_MANAGER,PROF_CO_MANAGER_TEL,
			PROF_CO_STAFF,PROF_CO_STAFF_TEL,PROF_CO_POST_ADDRESS,PROF_CO_MAIL,CONTRACT_CO_NO,CONTRACT_CO_NAME,CONTRACT_CO_MANAGER,CONTRACT_CO_MANAGER_TEL,
			CONTRACT_CO_STAFF,CONTRACT_CO_STAFF_TEL,CONTRACT_CO_POST_ADDRESS,CONTRACT_CO_MAIL,DOC_REC_DATE,PROGRESS_STATUS,PRE_SET,PRE_PRICE,SUPPORT_DOC_DATE,
			DRAFT_DATE,APPROVAL_SND_DATE,APPROVAL_RCV_DATE,DELI_NO,REPORT_RAISE_DATE,REPORT_SEAL_DATE,REPORT_ARR_TYPE,REPORT_ARR_DATE,REG_DATE,AGENT_INFO,
			CONTRACT_CO_ID,CONTRACT_CO_INFO,VERIFY_PER_AMOUNT,VERIFY_AMOUNT,VERIFY_INCREASE,VERIFY_DECREASE,VERIFY_DIFF,VERIFY_DIFF_RATE,CNT_PRICE,PROJ_PRICE,
			LIMIT_PRICE,CNTRCT_PRICE,PLAN_DOC_RCV_DATE,PLAN_DOC_RPT_DATE,PLAN_DOC_SND_TYPE,PLAN_DOC_ARR_DATE,BID_DOC_RCV_DATE,BID_DOC_RPT_DATE,BID_DOC_SND_TYPE,
			BID_DOC_ARR_DATE,SIGN_DOC_RCV_DATE,SIGN_DOC_RPT_DATE,SIGN_DOC_SND_TYPE,SIGN_DOC_ARR_DATE,SET_DOC_RCV_DATE,SET_DOC_RPT_DATE,SET_DOC_SND_TYPE,
			SET_DOC_ARR_DATE,PROGRESS_STATUS_MEMO,A_AMOUNT,A_STATUS,B_TYPE,B_AMOUNT,A_INVOICE_DELI_DATE,A_INVOICE_DATE,A_INVOICE_NO,A_SET_DATE,B_INVOICE_DELI_DATE,
			B_INVOICE_DATE,B_INVOICE_NO,B_SET_DATE,B_RATE,CNTRCT_INFO,PROJECT_NAME_PASS,RESERVE1,RESERVE2,RESERVE3,RESERVE4,RESERVE5,RESERVE6,RESERVE7,RESERVE8,RESERVE9,RESERVE10,LATEST_FLG,
			DELETE_FLG,UPDATE_USER,INSERT_DATE,UPDATE_DATE)
		values(#AUDIT_NO#,#CNTRCT_NO#,#CNTRCT_NM#,#REPORT_NO#,#PROJECT_MANAGER#,#PROJECT_NAME#,#PROJECT_TYPE#,#PROJECT_STATUS#,#AGENT_NO#,#AGENT_CO_NAME#,#AGENT_CO_MANAGER#,
			#AGENT_CO_MANAGER_TEL#,#AGENT_CO_STAFF#,#AGENT_CO_STAFF_TEL#,#AGENT_CO_POST_ADDRESS#,#AGENT_CO_MAIL#,#PROF_NO#,#PROF_CO_NAME#,#PROF_CO_MANAGER#,#PROF_CO_MANAGER_TEL#,
			#PROF_CO_STAFF#,#PROF_CO_STAFF_TEL#,#PROF_CO_POST_ADDRESS#,#PROF_CO_MAIL#,#CONTRACT_CO_NO#,#CONTRACT_CO_NAME#,#CONTRACT_CO_MANAGER#,#CONTRACT_CO_MANAGER_TEL#,
			#CONTRACT_CO_STAFF#,#CONTRACT_CO_STAFF_TEL#,#CONTRACT_CO_POST_ADDRESS#,#CONTRACT_CO_MAIL#,#DOC_REC_DATE#,#PROGRESS_STATUS#,#PRE_SET#,#PRE_PRICE#,#SUPPORT_DOC_DATE#,
			#DRAFT_DATE#,#APPROVAL_SND_DATE#,#APPROVAL_RCV_DATE#,#DELI_NO#,#REPORT_RAISE_DATE#,#REPORT_SEAL_DATE#,#REPORT_ARR_TYPE#,#REPORT_ARR_DATE#,#REG_DATE#,#AGENT_INFO#,
			#CONTRACT_CO_ID#,#CONTRACT_CO_INFO#,#VERIFY_PER_AMOUNT#,#VERIFY_AMOUNT#,#VERIFY_INCREASE#,#VERIFY_DECREASE#,#VERIFY_DIFF#,#VERIFY_DIFF_RATE#,#CNT_PRICE#,#PROJ_PRICE#,
			#LIMIT_PRICE#,#CNTRCT_PRICE#,#PLAN_DOC_RCV_DATE#,#PLAN_DOC_RPT_DATE#,#PLAN_DOC_SND_TYPE#,#PLAN_DOC_ARR_DATE#,#BID_DOC_RCV_DATE#,#BID_DOC_RPT_DATE#,#BID_DOC_SND_TYPE#,
			#BID_DOC_ARR_DATE#,#SIGN_DOC_RCV_DATE#,#SIGN_DOC_RPT_DATE#,#SIGN_DOC_SND_TYPE#,#SIGN_DOC_ARR_DATE#,#SET_DOC_RCV_DATE#,#SET_DOC_RPT_DATE#,#SET_DOC_SND_TYPE#,
			#SET_DOC_ARR_DATE#,#PROGRESS_STATUS_MEMO#,#A_AMOUNT#,#A_STATUS#,#B_TYPE#,#B_AMOUNT#,#A_INVOICE_DELI_DATE#,#A_INVOICE_DATE#,#A_INVOICE_NO#,#A_SET_DATE#,#B_INVOICE_DELI_DATE#,
			#B_INVOICE_DATE#,#B_INVOICE_NO#,#B_SET_DATE#,#B_RATE#,#CNTRCT_INFO#,#PROJECT_NAME_PASS#,#RESERVE1#,#RESERVE2#,#RESERVE3#,#RESERVE4#,#RESERVE5#,#RESERVE6#,#RESERVE7#,#RESERVE8#,#RESERVE9#,#RESERVE10#,#LATEST_FLG#,
			#DELETE_FLG#,#UPDATE_USER#,NOW(),NOW())
			<selectKey resultClass="Integer" keyProperty="AUDIT_HIS_SEQ">
				SELECT @@IDENTITY AS AUDIT_HIS_SEQ
			</selectKey>
	</insert>
	
</sqlMap>